## ğŸ§© 1. Webpack çš„ Entry é…ç½®å¯ä»¥æœ‰å“ªäº›å†™æ³•ï¼Ÿ

**Entryï¼ˆå…¥å£ï¼‰** å†³å®šäº† Webpack ä»å“ªé‡Œå¼€å§‹æ„å»ºä¾èµ–å›¾ã€‚

Webpack æ”¯æŒä¸‰ç§å†™æ³• ğŸ‘‡ï¼š

```js
// â‘  å­—ç¬¦ä¸²ï¼šå•å…¥å£
entry: './src/index.js'

// â‘¡ æ•°ç»„ï¼šå¤šä¸ªæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªå…¥å£ï¼ˆå¸¸ç”¨äºå¤š polyfillï¼‰
entry: ['./src/index.js', './src/polyfill.js']

// â‘¢ å¯¹è±¡ï¼šå¤šå…¥å£ï¼ˆå¸¸ç”¨äºå¤šé¡µé¢åº”ç”¨ï¼‰
entry: {
  home: './src/home.js',
  about: './src/about.js'
}
```

âœ… **è¯´æ˜ï¼š**

* å½“æ˜¯å¯¹è±¡æ—¶ï¼Œæ¯ä¸ª key ä¼šç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„æ‰“åŒ…æ–‡ä»¶ï¼ˆå¦‚ `home.bundle.js`ã€`about.bundle.js`ï¼‰ã€‚
* å¯¹åº”å¤šé¡µåº”ç”¨ï¼ˆMPAï¼‰å¼€å‘å¸¸ç”¨ã€‚

---

## ğŸ“¦ 2. Output çš„ filename å’Œ chunkFilename åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

```js
output: {
  filename: '[name].js',           // ä¸»å…¥å£æ–‡ä»¶å‘½å
  chunkFilename: '[name].chunk.js' // éå…¥å£çš„å¼‚æ­¥æ¨¡å—å‘½å
}
```

| å­—æ®µ                | ä½œç”¨                  | ç¤ºä¾‹                           |
| ----------------- | ------------------- | ---------------------------- |
| **filename**      | å…¥å£ï¼ˆEntryï¼‰å¯¹åº”çš„æ‰“åŒ…è¾“å‡ºæ–‡ä»¶å | `main.js`                    |
| **chunkFilename** | åŠ¨æ€åŠ è½½ï¼ˆå¼‚æ­¥ importï¼‰çš„æ–‡ä»¶å | `0.chunk.js`ã€`user.chunk.js` |

ğŸ“˜ **ä¸¾ä¾‹ï¼š**

```js
import('./user.js') // åŠ¨æ€å¼•å…¥
```

è¿™ä¸ªå¼‚æ­¥æ¨¡å—ä¼šä½¿ç”¨ `chunkFilename` å‘½åè§„åˆ™è¾“å‡ºã€‚

---

## âš™ï¸ 3. Loader æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ

**Loader çš„ä½œç”¨ï¼š**

> å°†é JavaScript æ–‡ä»¶ï¼ˆå¦‚ CSSã€å›¾ç‰‡ã€TypeScriptã€Vue æ–‡ä»¶ï¼‰è½¬æ¢ä¸º Webpack èƒ½è¯†åˆ«çš„æ¨¡å—ã€‚

**å·¥ä½œåŸç†ï¼š**

1. Webpack è¯»å–æ¨¡å—ï¼›
2. åŒ¹é…åˆ° `module.rules` ä¸­çš„è§„åˆ™ï¼›
3. åŒ¹é…çš„æ–‡ä»¶ä¼šæŒ‰é¡ºåºï¼ˆä»å³åˆ°å·¦ï¼‰è¢«å¯¹åº”çš„ loader å¤„ç†ï¼›
4. è½¬æ¢åçš„ç»“æœä¼šäº¤ç»™ä¸‹ä¸€ä¸ª loader æˆ– Webpack è‡ªèº«ã€‚

ğŸ“˜ **ä¾‹å­ï¼š**

```js
module: {
  rules: [
    {
      test: /\.css$/,
      use: ['style-loader', 'css-loader']
    }
  ]
}
```

* `css-loader` è§£æ CSS ä¸º JS æ¨¡å—ï¼›
* `style-loader` æŠŠæ ·å¼æ’å…¥åˆ° `<style>` æ ‡ç­¾ä¸­ã€‚

---

## ğŸ§° 4. å¸¸è§çš„ Loader æœ‰å“ªäº›ï¼Ÿ

| Loader                        | ä½œç”¨                                |
| ----------------------------- | --------------------------------- |
| **babel-loader**              | æŠŠ ES6+ è½¬æ¢ä¸ºå…¼å®¹æµè§ˆå™¨çš„ ES5              |
| **css-loader**                | è§£æ CSS æ–‡ä»¶ä¸­çš„ `@import`ã€`url()`     |
| **style-loader**              | æŠŠ CSS æ’å…¥åˆ° `<style>` æ ‡ç­¾ä¸­           |
| **sass-loader / less-loader** | æŠŠ Sass/Less ç¼–è¯‘æˆ CSS               |
| **url-loader**                | æŠŠå°å›¾ç‰‡è½¬ä¸º base64 å†…åµŒï¼Œå¤§å›¾ä½¿ç”¨ file-loader |
| **file-loader**               | å¤„ç†æ–‡ä»¶èµ„æºï¼ˆå›¾ç‰‡ã€å­—ä½“ï¼‰è¾“å‡ºåˆ°æŒ‡å®šç›®å½•              |
| **ts-loader**                 | ç¼–è¯‘ TypeScript                     |
| **vue-loader**                | è§£æ `.vue` å•æ–‡ä»¶ç»„ä»¶                   |
| **eslint-loader**             | æ£€æŸ¥ä»£ç è¯­æ³•è§„èŒƒ                          |

---

## ğŸ”Œ 5. Plugin ä¸ Loader çš„åŒºåˆ«ï¼Ÿ

| å¯¹æ¯”é¡¹      | Loader                  | Plugin                         |
| -------- | ----------------------- | ------------------------------ |
| **ä½œç”¨**   | æ–‡ä»¶è½¬æ¢å™¨                   | åŠŸèƒ½æ‰©å±•å™¨                          |
| **é˜¶æ®µ**   | æ¨¡å—åŠ è½½é˜¶æ®µ                  | æ‰“åŒ…æ•´ä¸ªè¿‡ç¨‹                         |
| **åŠŸèƒ½**   | æŠŠèµ„æºæ–‡ä»¶è½¬æˆæ¨¡å—               | ä¼˜åŒ–ã€å‹ç¼©ã€æ³¨å…¥ã€åˆ†æ                    |
| **è°ƒç”¨æ–¹å¼** | é…ç½®åœ¨ `module.rules`      | é…ç½®åœ¨ `plugins`                  |
| **ä¾‹å­**   | babel-loaderã€css-loader | HtmlWebpackPluginã€DefinePlugin |

âœ… **ä¸€å¥è¯åŒºåˆ†ï¼š**

> Loader è´Ÿè´£â€œç¿»è¯‘æ–‡ä»¶â€ï¼ŒPlugin è´Ÿè´£â€œæ‰©å±•åŠŸèƒ½â€ã€‚

---

## ğŸ§± 6. å¸¸è§çš„ Plugin æœ‰å“ªäº›ï¼Ÿ

| Plugin                         | ä½œç”¨                     |
| ------------------------------ | ---------------------- |
| **HtmlWebpackPlugin**          | è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶å¹¶å¼•å…¥æ‰“åŒ…åçš„ JS |
| **DefinePlugin**               | å®šä¹‰å…¨å±€å¸¸é‡ï¼ˆå¦‚ç¯å¢ƒå˜é‡ï¼‰          |
| **MiniCssExtractPlugin**       | æŠ½ç¦» CSS ä¸ºç‹¬ç«‹æ–‡ä»¶           |
| **CleanWebpackPlugin**         | æ‰“åŒ…å‰æ¸…ç©º dist ç›®å½•          |
| **HotModuleReplacementPlugin** | å¯ç”¨ HMRï¼ˆçƒ­æ›´æ–°ï¼‰            |
| **CopyWebpackPlugin**          | æ‹·è´é™æ€æ–‡ä»¶åˆ°è¾“å‡ºç›®å½•            |
| **BundleAnalyzerPlugin**       | å¯è§†åŒ–åˆ†ææ‰“åŒ…ä½“ç§¯              |

---

## ğŸ“ 7. å¦‚ä½•é…ç½® Webpack çš„åˆ«å aliasï¼Ÿ

åˆ«å alias ç”¨äºç®€åŒ–è·¯å¾„å¼•ç”¨ ğŸ‘‡

```js
resolve: {
  alias: {
    '@': path.resolve(__dirname, 'src'),
    '@components': path.resolve(__dirname, 'src/components')
  }
}
```

**ä½¿ç”¨ï¼š**

```js
import Button from '@components/Button';
```

âœ… **å¥½å¤„ï¼š**

* é¿å…å±‚å±‚ `../../../`ï¼›
* æé«˜å¯è¯»æ€§ï¼›
* é˜²æ­¢è·¯å¾„é”™è¯¯ã€‚

---

## ğŸ§© 8. Webpack é…ç½®å¤šå…¥å£å¤šå‡ºå£è¯¥å¦‚ä½•å®ç°ï¼Ÿ

```js
entry: {
  index: './src/index.js',
  admin: './src/admin.js'
},
output: {
  filename: '[name].bundle.js',
  path: path.resolve(__dirname, 'dist')
}
```

Webpack ä¼šåˆ†åˆ«ç”Ÿæˆï¼š

```
dist/index.bundle.js
dist/admin.bundle.js
```

ğŸ“˜ å¤šé¡µåº”ç”¨ï¼ˆMPAï¼‰å¯ä»¥é…åˆ **HtmlWebpackPlugin** å¤šå®ä¾‹ä½¿ç”¨ï¼š

```js
plugins: [
  new HtmlWebpackPlugin({ filename: 'index.html', chunks: ['index'] }),
  new HtmlWebpackPlugin({ filename: 'admin.html', chunks: ['admin'] })
]
```

---

## ğŸ§  9. Webpack çš„ Mode æœ‰å“ªå‡ ç§ï¼Ÿä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ

Webpack æä¾›ä¸‰ç§æ„å»ºæ¨¡å¼ï¼š

| æ¨¡å¼              | ç‰¹ç‚¹                         |
| --------------- | -------------------------- |
| **development** | å¼€å‘æ¨¡å¼ï¼Œå¯ç”¨è°ƒè¯•ã€æœªå‹ç¼©ã€å¸¦ source map |
| **production**  | ç”Ÿäº§æ¨¡å¼ï¼Œè‡ªåŠ¨å‹ç¼©ã€ä¼˜åŒ– Tree Shaking  |
| **none**        | ä¸å¯ç”¨ä»»ä½•é»˜è®¤ä¼˜åŒ–                  |

```js
mode: 'development' // æˆ– 'production'
```

âœ… **åŒºåˆ«ï¼š**

* development æ¨¡å¼ä¸‹æ„å»ºå¿«ã€å¯è°ƒè¯•ï¼›
* production æ¨¡å¼ä¸‹è‡ªåŠ¨å‹ç¼©ä¼˜åŒ–æ€§èƒ½ã€‚

---

## âš™ï¸ 10. Webpack çš„é…ç½®æ–‡ä»¶æ˜¯å¦‚ä½•è¢«è§£æå’Œæ‰§è¡Œçš„ï¼Ÿ

Webpack ä¼šæŒ‰ä»¥ä¸‹é¡ºåºè§£æé…ç½®ï¼š

1. é»˜è®¤è¯»å–é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `webpack.config.js`
2. å¦‚æœæŒ‡å®šäº† `--config` å‚æ•°ï¼Œåˆ™è¯»å–å¯¹åº”æ–‡ä»¶
3. åŠ è½½é…ç½®æ–‡ä»¶ï¼ˆæ”¯æŒ `.js`, `.cjs`, `.mjs`, `.ts`, `.json`ï¼‰
4. è°ƒç”¨å¯¼å‡ºçš„é…ç½®å¯¹è±¡ï¼ˆæˆ–å‡½æ•°ï¼‰
5. ä½¿ç”¨å†…éƒ¨çš„ **Compiler** å®ä¾‹å¼€å§‹æ‰§è¡Œæ‰“åŒ…æµç¨‹

```js
// webpack.config.js
module.exports = (env, argv) => ({
  entry: './src/index.js',
  mode: argv.mode || 'development'
});
```

Webpack CLI åœ¨å¯åŠ¨æ—¶ä¼šè§£æå‘½ä»¤è¡Œå‚æ•°å¹¶ä¼ ç»™é…ç½®å‡½æ•°ã€‚

