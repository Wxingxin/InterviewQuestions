### 🧩 **1. 什么是 Webpack？解决了哪些问题？**

**Webpack** 是一个现代化的 **前端模块打包工具（Module Bundler）**。

它的主要作用：

- 把项目中所有资源（JS、CSS、图片等）都看作模块；
- 根据依赖关系构建依赖图；
- 把这些模块打包成一个或多个浏览器可运行的文件（bundle）。

**Webpack 解决的问题：**

- 浏览器原生不支持模块化；
- 各种资源（CSS、图片）不能直接通过 JS 管理；
- 减少 HTTP 请求次数；
- 提高加载性能；
- 方便做 Tree Shaking、代码分割、懒加载等优化。

✅ **一句话总结：**

> Webpack 让前端开发进入“模块化 + 自动化构建”的新时代。

---

### 💡 **2. Webpack 的核心思想是什么？**

Webpack 的核心思想是：

> **“一切皆模块，最终打包输出优化后的静态资源。”**

**解释：**

- 把 JS、CSS、图片、字体都当作模块；
- 从入口文件出发，递归分析依赖；
- 生成依赖图；
- 统一打包成 bundle。

---

### ⚙️ **3. Webpack 的主要组成部分有哪些？**

Webpack 有 4 个核心组成部分：

| 组成部分   | 作用                                                                   |
| ---------- | ---------------------------------------------------------------------- |
| **Entry**  | 指定入口文件，告诉 Webpack 从哪里开始构建依赖图。                      |
| **Output** | 指定打包文件的输出位置与命名规则。                                     |
| **Loader** | 模块转换器，将非 JS 文件（CSS、图片等）转换为 Webpack 能识别的模块。   |
| **Plugin** | 插件系统，扩展 Webpack 功能，例如压缩代码、生成 HTML、环境变量注入等。 |

---

### 🧱 **4. Entry、Output、Loader、Plugin 的作用分别是什么？**

```js
module.exports = {
  entry: "./src/index.js", // 入口文件
  output: {
    // 输出文件配置
    filename: "bundle.js",
    path: __dirname + "/dist",
  },
  module: {
    // Loader 配置
    rules: [{ test: /\.css$/, use: ["style-loader", "css-loader"] }],
  },
  plugins: [
    // 插件配置
    new HtmlWebpackPlugin({ template: "./index.html" }),
  ],
};
```

- **Entry**：从哪个文件开始打包。
- **Output**：打包到哪里、叫什么名字。
- **Loader**：告诉 Webpack 如何处理非 JS 模块（如 `.css`、`.vue`、`.ts`）。
- **Plugin**：做更复杂的功能（优化、压缩、生成 HTML、提取 CSS、定义环境变量等）。

---

### 🔁 **5. Webpack 的打包流程是怎样的？**

Webpack 打包流程可以分为 6 个阶段：

- 1️⃣ **初始化参数**：读取配置文件（webpack.config.js）与命令行参数。
- 2️⃣ **从入口（Entry）出发**：确定构建依赖图的起点。
- 3️⃣ **解析模块依赖**：递归分析 import/require 语句，找出所有依赖。
- 4️⃣ **使用 Loader 转换**：对不同类型的模块进行转换（比如 Babel 把 ES6 转成 ES5）。
- 5️⃣ **使用 Plugin 扩展功能**：压缩、优化、生成文件等。
- 6️⃣ **输出文件（Output）**：根据配置生成最终的 bundle 文件。

---

### 📦 **6. 什么是模块打包（Module Bundling）？**

模块打包（Module Bundling）就是：

> 把项目中所有模块（包括 JS、CSS、图片等）按照依赖关系，打包成浏览器能直接运行的文件。

**目的：**

- 将模块化代码转为浏览器可执行代码；
- 减少请求数；
- 做统一优化（压缩、Tree Shaking、代码分割）。

---

### 🔄 **7. Webpack 默认支持哪些模块规范？**

Webpack 默认支持：

- **CommonJS**（`require`, `module.exports`）
- **ES Module**（`import`, `export`）
- **AMD / UMD**

Webpack 内部会将这些模块规范**统一转换成**自己的**模块管理系统**，从而实现**跨模块规范**兼容。

---

### 🌲 **8. 什么是 AST？Webpack 构建中如何用到 AST？**

**AST（Abstract Syntax Tree，抽象语法树）** 是代码的结构化表示。

**Webpack 中 AST 的作用：**

- 通过 **Babel / Acorn** 解析代码成 AST；
- 分析模块的依赖（import/export）；
- 识别未使用代码（Tree Shaking）；
- 插入/修改代码（例如插件注入代码片段）。

📘 **举例：**
Tree Shaking 正是通过分析 AST 判断哪些导入变量未被使用。

---

### 🕸️ **9. 什么是依赖图谱（Dependency Graph）？**

依赖图（Dependency Graph）是：

> 从入口文件出发，Webpack 递归分析所有 import/require，形成的一个有向图结构。

每个节点代表一个模块，**每条边**代表**模块之间**的依赖关系。
Webpack 根据依赖图将所有模块组合成最终的 bundle。

---

### ⚖️ **10. Webpack 和传统打包工具（如 Gulp、Rollup）有什么区别？**

| 工具        | 特点                                 | 适用场景                       |
| ----------- | ------------------------------------ | ------------------------------ |
| **Webpack** | 模块化打包工具，功能最全，一切皆模块 | 适合大型前端项目（React、Vue） |
| **Gulp**    | 基于任务流的构建工具，关注任务自动化 | 适合构建流程控制，如压缩、复制 |
| **Rollup**  | 专注于 ESModule 打包，输出更简洁     | 适合打包 JS 库或 SDK           |

🧠 **总结一句话：**

> Webpack = 应用打包器
> Gulp = 构建任务管理器
> Rollup = 库打包器
