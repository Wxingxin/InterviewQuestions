非常好👍，**CSS 选择器的权重（Specificity）** 是前端面试高频考点之一。下面我给你整理出一份 **【CSS 选择器权重知识点大全 + 面试题大全（含答案）】**，覆盖从基础到实战面试。

---

## 🎯 一、CSS 选择器权重基础知识

### 1. 权重的基本规则（Specificity）


---

### 3. 常见选择器类型及示例

| 分类      | 示例                        | 描述               |
| ------- | ------------------------- | ---------------- |
| 元素选择器   | `p`, `div`                | 选择所有指定元素         |
| 类选择器    | `.title`                  | 选择类名为 title 的元素  |
| ID选择器   | `#main`                   | 选择 id 为 main 的元素 |
| 属性选择器   | `[type="text"]`           | 选择属性为某值的元素       |
| 伪类      | `:hover`, `:nth-child(2)` | 特定状态的元素          |
| 伪元素     | `::before`, `::after`     | 选择元素的虚拟部分        |
| 后代选择器   | `div p`                   | div 内的所有 p       |
| 子选择器    | `div > p`                 | div 的直接子 p       |
| 相邻兄弟选择器 | `h1 + p`                  | h1 后紧接的 p        |
| 通用兄弟选择器 | `h1 ~ p`                  | h1 后所有同级 p       |

---

## 💡 二、权重计算实战举例

| 选择器                            | 权重        | 说明                |
| ------------------------------ | --------- | ----------------- |
| `div`                          | (0,0,0,1) | 元素选择器             |
| `.box`                         | (0,0,1,0) | 类选择器              |
| `#main`                        | (0,1,0,0) | ID选择器             |
| `ul li.active a:hover`         | (0,0,2,2) | 类 + 伪类 + 元素       |
| `section#blog .post > p.title` | (0,1,2,2) | ID + 类 + 元素       |
| `div[role="main"]:hover`       | (0,0,2,1) | 属性 + 伪类 + 元素      |
| `header nav ul li a`           | (0,0,0,5) | 全部元素              |
| 内联样式                           | (1,0,0,0) | 最强（不含 !important） |
| `!important`                   | ∞         | 超越一切权重            |

---

## 🧠 三、CSS 权重面试题大全（含答案）

### ✅ 面试题 1

**问：** `#app div.box span` 和 `.container #app span` 哪个权重更高？
**答：**

* `#app div.box span` → (0,1,1,2)
* `.container #app span` → (0,1,1,1)
  → **第一个权重更高**（因为元素更多）

---

### ✅ 面试题 2

**问：** 下面两条样式哪个生效？

```css
p { color: red; }
#main p { color: blue; }
```

**答：**
第二条权重更高，因为 ID 的权重 > 元素。

---

### ✅ 面试题 3

**问：** `!important` 与选择器权重哪个优先？
**答：**
`!important` 优先级最高，但如果两个规则都带 `!important`，则再比较权重大小。

---

### ✅ 面试题 4

**问：** 内联样式与 `!important` 谁优先？

```html
<p style="color:red!important;">文本</p>
```

**答：**
如果两者都存在：

* 内联样式中的 `!important` 权重最高；
* 普通内联样式权重 < 外部 `!important`。

---

### ✅ 面试题 5

**问：** 哪个样式会生效？

```css
div p {color: red;}
div > p {color: blue;}
```

**HTML：**

```html
<div><p>test</p></div>
```

**答：**
两者都匹配 `p`，但后定义的 `div > p` 在源文件顺序上若靠后，则蓝色生效。

---

### ✅ 面试题 6

**问：** 继承的样式和直接定义的样式哪个优先？
**答：**
直接定义的样式优先。继承的权重为0。

---

### ✅ 面试题 7

**问：** 写出以下选择器的权重：

```css
ul#nav li.active > a:hover
```

**答：**
(0,1,2,2)

---

### ✅ 面试题 8

**问：** 如何降低 CSS 权重冲突？
**答：**

* 避免使用 ID 选择器；
* 使用 BEM 命名；
* 控制选择器层级（不超过3层）；
* 合理使用 `:where()` 或 `:is()`（它们不增加权重）；
* 避免滥用 `!important`。

---

### ✅ 面试题 9

**问：** `:not()`、`:is()`、`:where()` 的权重计算规则？

| 伪类         | 权重计算规则         |
| ---------- | -------------- |
| `:not()`   | 不增加权重，按内部选择器计算 |
| `:is()`    | 取内部选择器的最大权重    |
| `:where()` | 永远为0，不增加权重     |

示例：

```css
div:where(.a, .b) { } /* (0,0,0,1) */
div:is(.a, .b) { } /* (0,0,1,1) */
div:not(.a) { } /* (0,0,1,1) */
```

---

## ⚙️ 四、项目实战常见问题

| 问题             | 原因       | 解决方案                        |
| -------------- | -------- | --------------------------- |
| 某样式没生效         | 权重不够或被覆盖 | 检查权重或使用更具体选择器               |
| 使用 UI 框架样式覆盖困难 | 框架样式权重高  | 使用 `.自定义类 !important` 或更高权重 |
| 主题切换样式被覆盖      | 样式层叠问题   | 利用后加载或CSS变量                 |

---

## 🧩 五、快速记忆口诀

> **行内最强！ID一档！类伪属次，标签最弱！继承无力！important称王！**

---

是否需要我帮你整理成一份带 **图解 + 权重计算示意图** 的「CSS 选择器权重总结PDF」？
这样你面试前可直接打印或复习用。
