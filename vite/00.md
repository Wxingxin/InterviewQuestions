# ğŸŒŸ Vite å­¦ä¹ æ­¥éª¤ï¼ˆè¯¦ç»†ç‰ˆï¼‰

## **é˜¶æ®µ 1ï¼šVite åŸºç¡€å…¥é—¨ï¼ˆ1ï½2 å¤©ï¼‰**

### ğŸ¯ å­¦ä¹ ç›®æ ‡

äº†è§£ Vite æ˜¯ä»€ä¹ˆã€æ ¸å¿ƒä¼˜åŠ¿ï¼Œä»¥åŠå¦‚ä½•åˆ›å»ºé¡¹ç›®å¹¶è¿è¡Œã€‚

### ğŸ“š éœ€è¦æŒæ¡çš„çŸ¥è¯†

* Vite çš„è¯ç”ŸèƒŒæ™¯ï¼ˆwebpack çš„ç—›ç‚¹ï¼šå†·å¯åŠ¨æ…¢ã€HMR æ…¢ï¼‰
* Vite çš„ä¸¤å¤§æ ¸å¿ƒï¼š

  1. **å¼€å‘ç¯å¢ƒåŸºäº ES Modules çš„æ— æ‰“åŒ…æœåŠ¡ï¼ˆDev Serverï¼‰**
  2. **ç”Ÿäº§æ„å»ºä½¿ç”¨ Rollup æ‰“åŒ…**
* å®‰è£… Node.jsï¼ˆå»ºè®® LTSï¼‰
* ä½¿ç”¨ NPM / PNPM / Yarn

### ğŸ›  å®è·µä»»åŠ¡

1. åˆ›å»ºä¸€ä¸ª Vite é¡¹ç›®ï¼š

   ```bash
   npm create vite@latest my-app
   cd my-app
   npm install
   npm run dev
   ```
2. ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶è§‚å¯Ÿ HMRï¼ˆçƒ­æ›´æ–°ï¼‰æ•ˆæœã€‚

---

## **é˜¶æ®µ 2ï¼šVite é¡¹ç›®ç»“æ„ä¸é…ç½®ï¼ˆ2ï½3 å¤©ï¼‰**

### ğŸ¯ å­¦ä¹ ç›®æ ‡

ç†è§£é¡¹ç›®ç»“æ„åŠå¸¸ç”¨é…ç½®é¡¹ï¼ŒæŒæ¡åŸºæœ¬æ–‡ä»¶çš„ç”¨é€”ã€‚

### ğŸ“š éœ€è¦æŒæ¡çš„çŸ¥è¯†

* ç›®å½•ç»“æ„ï¼ˆsrcã€publicã€index.htmlï¼‰
* `vite.config.js` æ–‡ä»¶
* å¸¸è§é…ç½®ï¼š

  * `root`
  * `base`
  * `plugins`
  * `resolve.alias`
  * `server`
  * `build`
* ç¯å¢ƒå˜é‡ï¼š

  * `.env`
  * `.env.development`
  * `.env.production`
  * `import.meta.env`

### ğŸ›  å®è·µä»»åŠ¡

* é…ç½® aliasï¼Œå¦‚ï¼š

  ```js
  resolve: {
    alias: {
      '@': '/src'
    }
  }
  ```
* å®šä¹‰å¼€å‘/ç”Ÿäº§ä¸åŒçš„ env å˜é‡ã€‚

---

## **é˜¶æ®µ 3ï¼šæ·±å…¥ç†è§£ Vite çš„å¼€å‘æœåŠ¡å™¨ï¼ˆ2 å¤©ï¼‰**

### ğŸ¯ å­¦ä¹ ç›®æ ‡

ç†è§£ Vite å¦‚ä½•åšåˆ°â€œç§’å¯åŠ¨â€ã€HMR å¦‚ä½•å·¥ä½œã€‚

### ğŸ“š éœ€è¦æŒæ¡çš„çŸ¥è¯†

* ES Module åŸç†ï¼ˆæµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼‰
* ä¾èµ–é¢„æ„å»ºï¼šä¸ºä»€ä¹ˆ Vite è¦ä½¿ç”¨ esbuild é¢„æ„å»ºç¬¬ä¸‰æ–¹åº“
* HMR åŸç†ï¼šæ¨¡å—çƒ­æ›¿æ¢ vs æ•´é¡µåˆ·æ–°

### ğŸ›  å®è·µä»»åŠ¡

* ä¿®æ”¹ç»„ä»¶ & æ ·å¼ï¼Œè§‚å¯Ÿ HMR è¡Œä¸º
* æŸ¥çœ‹ node_modules/.vite ç¼“å­˜ç›®å½•

---

## **é˜¶æ®µ 4ï¼šVite æ’ä»¶ç³»ç»Ÿï¼ˆ3ï½5 å¤©ï¼‰**

### ğŸ¯ å­¦ä¹ ç›®æ ‡

æŒæ¡ Vite æ’ä»¶æ¶æ„ã€å¸¸ç”¨æ’ä»¶ã€è‡ªå·±å†™æ’ä»¶ã€‚

### ğŸ“š éœ€è¦æŒæ¡çš„çŸ¥è¯†

* Rollup æ’ä»¶ä½“ç³» â€” Vite æ’ä»¶ä¸å…¶å…¼å®¹
* Vite æ’ä»¶é’©å­ï¼ˆConfigã€Transformã€Load ç­‰ï¼‰
* å®˜æ–¹æ’ä»¶ï¼š

  * @vitejs/plugin-vue
  * @vitejs/plugin-react
  * @vitejs/plugin-legacy
* ç¤¾åŒºæ’ä»¶ï¼š

  * unplugin ç³»åˆ—
  * vite-plugin-auto-import
  * vite-plugin-pages
  * vite-plugin-compression

### ğŸ›  å®è·µä»»åŠ¡

1. ä½¿ç”¨è‡³å°‘ 3 ä¸ªå¸¸ç”¨æ’ä»¶
2. å†™ä¸€ä¸ªç®€å•æ’ä»¶ï¼ˆç¤ºä¾‹ï¼šåœ¨æ„å»ºæ—¶è¾“å‡ºæ—¥å¿—ï¼‰

   ```js
   export default function MyPlugin() {
     return {
       name: 'my-plugin',
       transform(code, id) {
         console.log('processing:', id)
         return code
       }
     }
   }
   ```

---

## **é˜¶æ®µ 5ï¼šç”Ÿäº§ç¯å¢ƒæ„å»ºï¼ˆ2ï½3 å¤©ï¼‰**


äº†è§£ Vite å¦‚ä½•æ„å»ºç”Ÿäº§åŒ…ã€ä¼˜åŒ–æ–¹å¼ã€‚

### ğŸ“š éœ€è¦æŒæ¡çš„çŸ¥è¯†

* æ„å»ºå‘½ä»¤ï¼š`npm run build`
* Rollup æ‰“åŒ…æµç¨‹
* ä»£ç åˆ†å‰²ï¼ˆSplit Chunksï¼‰
* Tree Shaking
* é™æ€èµ„æºå¤„ç†ï¼ˆå›¾ç‰‡ã€CSSã€å­—ä½“ç­‰ï¼‰
* æ„å»ºä¼˜åŒ–ï¼š

  * `build.minify`
  * `build.sourcemap`
  * `build.dynamicImportVars`
  * gzip / brotli å‹ç¼©

### ğŸ›  å®è·µä»»åŠ¡

* åˆ†ææ‰“åŒ…äº§ç‰©ï¼šä½¿ç”¨ `vite build --debug` æˆ– `rollup-plugin-visualizer`
* å°è¯•ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ï¼ˆå¼€å¯ gzip / åˆ†æä¾èµ–ï¼‰

---

## **é˜¶æ®µ 6ï¼šæ¡†æ¶ç»“åˆï¼šVue / React / Svelteï¼ˆ2ï½7 å¤©ï¼‰**

æ ¹æ®ä½ çš„æŠ€æœ¯æ–¹å‘é€‰æ‹©ï¼š

### Vue é¡¹ç›®ï¼ˆæ¨èï¼‰

* ä½¿ç”¨ `@vitejs/plugin-vue`
* æ”¯æŒ vue æ–‡ä»¶ SFC
* é›†æˆ Piniaã€Vue Router

### React é¡¹ç›®

* ä½¿ç”¨ `@vitejs/plugin-react`
* æ”¯æŒ JSXã€Fast Refresh

### Svelte é¡¹ç›®

* ä½¿ç”¨ `@sveltejs/vite-plugin-svelte`

### ğŸ›  å®è·µä»»åŠ¡

åšä¸€ä¸ªå°é¡¹ç›®ï¼Œä¾‹å¦‚ï¼š

* Vue + Vite åšä¸€ä¸ª Todo List
* React + Vite åšä¸€ä¸ªåå°ç®¡ç†ç•Œé¢ Demo

---

## **é˜¶æ®µ 7ï¼šé«˜çº§å†…å®¹ï¼ˆ3ï½7 å¤©ï¼‰**

### ğŸ¯ å­¦ä¹ ç›®æ ‡

æŒæ¡ Vite çš„é«˜é˜¶ç”¨æ³•ã€åœ¨å¤§å‹é¡¹ç›®ä¸­çš„å®è·µæ–¹å¼ã€‚

### ğŸ“š éœ€è¦æŒæ¡çš„çŸ¥è¯†

* æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰
* é¢„æ¸²æŸ“ï¼ˆprerenderingï¼‰
* Vite + Electron
* Vite + NestJSï¼ˆå‰åç«¯ä¸€ä½“åŒ–ï¼‰
* Monorepoï¼ˆpnpm workspace, Turborepoï¼‰
* å®šåˆ¶æ„å»ºæµç¨‹

---

# ğŸ“Œ å­¦ä¹ è·¯å¾„æ€»ç»“ï¼ˆé€ŸæŸ¥è¡¨ï¼‰

| é˜¶æ®µ | å†…å®¹                 | æ—¶é—´    |
| -- | ------------------ | ----- |
| 1  | å®‰è£…ä¸åŸºç¡€æ¦‚å¿µ            | 1â€“2 å¤© |
| 2  | é…ç½®ä¸ç¯å¢ƒå˜é‡            | 2â€“3 å¤© |
| 3  | DevServer å·¥ä½œåŸç†     | 2 å¤©   |
| 4  | æ’ä»¶ç³»ç»Ÿ               | 3â€“5 å¤© |
| 5  | æ„å»ºä¸ä¼˜åŒ–              | 2â€“3 å¤© |
| 6  | Vue/React é¡¹ç›®å®è·µ     | 2â€“7 å¤© |
| 7  | é«˜çº§ç”¨æ³•ï¼ˆSSRã€Electronï¼‰ | 3â€“7 å¤© |

