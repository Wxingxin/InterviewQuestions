好问题 👍，数组去重在 JS 里有很多不同写法，不同场景可以选择不同方式。下面我给你总结常见的 **8 种方法**：

---

## 1-1. **使用 `Set`**

最常见、最简单的方法。

```js
const arr = [1, 2, 2, 3, 4, 4, 5];
const unique = [...new Set(arr)];
console.log(unique); // [1, 2, 3, 4, 5]
```

---

## 1-2. **ES6 `Array.from(new Set())`**

另一种 `Set` 写法。

```js
const arr = [1, 2, 2, 3, 4, 4, 5];
const unique = Array.from(new Set(arr));
console.log(unique); // [1, 2, 3, 4, 5]
```

---

## 1-3. **使用 `Map`**

通过哈希表记录是否出现过。

```js
const arr = [1, 2, 2, 3, 4, 4, 5];
const map = new Map();
const unique = [];
for (let item of arr) {
  if (!map.has(item)) {
    map.set(item, true);
    unique.push(item);
  }
}
console.log(unique); // [1, 2, 3, 4, 5]
```

---

## 2-1 **使用 `Object`**

利用对象的键不重复。

```js
const arr = [1, 2, 2, 3, 4, 4, 5];
const obj = {};
const unique = [];
for (let item of arr) {
  if (!obj[item]) {
    obj[item] = true;
    unique.push(item);
  }
}
console.log(unique); // [1, 2, 3, 4, 5]
```

---

## 2-2 **使用 `for + includes`**

最基础的循环写法。

```js
const arr = [1, 2, 2, 3, 4, 4, 5];
const unique = [];
for (let i = 0; i < arr.length; i++) {
  if (!unique.includes(arr[i])) {
    unique.push(arr[i]);
  }
}
console.log(unique); // [1, 2, 3, 4, 5]
```

---

## 3-1. **使用 `filter + indexOf`**

保留数组中第一次出现的元素。

```js
const arr = [1, 2, 2, 3, 4, 4, 5];
const unique = arr.filter((item, index) => arr.indexOf(item) === index);
console.log(unique); // [1, 2, 3, 4, 5]
```

---

## 3-2. **使用 `reduce + includes`**

通过累加器构造新数组。

```js
const arr = [1, 2, 2, 3, 4, 4, 5];
const unique = arr.reduce((acc, cur) => {
  if (!acc.includes(cur)) acc.push(cur);
  return acc;
}, []);
console.log(unique); // [1, 2, 3, 4, 5]
```

---

## 3-3 **使用 `sort` + `for`**

先排序，再去重。

```js
const arr = [1, 2, 2, 3, 4, 4, 5];
arr.sort((a, b) => a - b);
const unique = [arr[0]];
for (let i = 1; i < arr.length; i++) {
  if (arr[i] !== arr[i - 1]) {
    unique.push(arr[i]);
  }
}
console.log(unique); // [1, 2, 3, 4, 5]
```

✅ **总结对比**：

- **推荐**：`Set`（简单、快）
- **兼容性更好**：`filter + indexOf`
- **控制更灵活**：`Map` / `Object`

---
## 性能结论
| 方法              | 运行时间                 |
| ----------------- | ------------------------ |
| Set 去重          | 🥇 **3ms ~ 5ms**         |
| for + 对象哈希    | ✅ **8ms ~ 10ms**        |
| Map 去重          | ✅ **10ms ~ 12ms**       |
| filter + indexOf  | ❌ **1200ms+**（极慢）   |
| reduce + includes | ❌ **2000ms+**（非常慢） |
