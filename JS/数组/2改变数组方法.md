
### 1️⃣ push()

在数组 **末尾添加** 一个或多个元素。

```js
const arr = [1, 2];
arr.push(3, 4);
console.log(arr); // [1, 2, 3, 4]
```

👉 返回新数组长度。

---

### 2️⃣ pop()

删除并返回数组的 **最后一个元素**。

```js
const arr = [1, 2, 3];
const last = arr.pop();
console.log(last); // 3
console.log(arr);  // [1, 2]
```

---

### 3️⃣ unshift()

在数组 **开头添加** 一个或多个元素。

```js
const arr = [2, 3];
arr.unshift(0, 1);
console.log(arr); // [0, 1, 2, 3]
```

---

### 4️⃣ shift()

删除数组的 **第一个元素**。

```js
const arr = [1, 2, 3];
const first = arr.shift();
console.log(first); // 1
console.log(arr);   // [2, 3]
```

---

### 5️⃣ splice()

功能最强大的修改方法，可以：

* 删除元素
* 插入元素
* 替换元素

```js
const arr = [1, 2, 3, 4, 5];

// 删除：从索引1开始删除2个元素
arr.splice(1, 2);
console.log(arr); // [1, 4, 5]

// 插入：从索引2插入元素
arr.splice(2, 0, 99);
console.log(arr); // [1, 4, 99, 5]

// 替换：从索引1删除1个元素，插入两个新值
arr.splice(1, 1, 100, 200);
console.log(arr); // [1, 100, 200, 99, 5]
```

👉 返回被删除的元素数组。

---

### 6️⃣ fill()

使用固定值填充数组中指定范围的元素。

```js
const arr = [1, 2, 3, 4];
arr.fill(0, 1, 3); // 从索引1到3（不含3）
console.log(arr); // [1, 0, 0, 4]
```

---

### 7️⃣ copyWithin()

复制数组中的一部分到另一位置（会覆盖）。

```js
const arr = [1, 2, 3, 4, 5];
arr.copyWithin(0, 3, 5); // 把索引3~4的内容复制到索引0
console.log(arr); // [4, 5, 3, 4, 5]
```

---

非常好 👍 你现在已经掌握了数组的“增删改类方法”，
接下来学习的 `reverse()` 和 `sort()` 是 **数组的顺序操作类方法**，这两个在面试、算法和源码题里都非常重要。

---

## 🧩 一、基本认识

| 方法          | 作用     | 是否修改原数组 | 是否可自定义排序逻辑  |
| ----------- | ------ | ------- | ----------- |
| `reverse()` | 反转数组顺序 | ✅ 改原数组  | ❌ 不支持       |
| `sort()`    | 排序数组   | ✅ 改原数组  | ✅ 支持自定义比较函数 |

---

## 🔁 二、`reverse()` —— 数组反转

### ✅ 基本用法

```js
const arr = [1, 2, 3, 4];
arr.reverse();
console.log(arr); // [4, 3, 2, 1]
```

* 直接修改原数组。
* 返回值是**反转后的数组本身**（同一个引用）。

---

### ❌ 注意点

```js
const arr = [1, 2, 3];
const reversed = arr.reverse();

console.log(arr === reversed); // true（同一个对象）
```

---

### ✅ 不改原数组的写法（推荐）

```js
const arr = [1, 2, 3];
const reversed = [...arr].reverse();
console.log(reversed); // [3, 2, 1]
console.log(arr);      // [1, 2, 3]
```

👉 利用扩展运算符创建副本。

---

## 🧮 三、`sort()` —— 数组排序

### ✅ 基本语法

```js
arr.sort([compareFunction]);
```

* **compareFunction 可选**
* 如果不写，会默认按照**字符串的 Unicode 顺序**排序。

---

### ⚠️ 默认排序规则（坑点）

```js
const arr = [10, 1, 20, 2];
arr.sort();
console.log(arr); // [1, 10, 2, 20] ❌ 按字符串比较
```

因为默认相当于：

```js
arr.sort((a, b) => String(a).localeCompare(String(b)));
```

---

### ✅ 正确的数字排序

#### 升序

```js
arr.sort((a, b) => a - b);
```

#### 降序

```js
arr.sort((a, b) => b - a);
```

例：

```js
const nums = [10, 1, 20, 2];
nums.sort((a, b) => a - b);
console.log(nums); // [1, 2, 10, 20]
```

---

### ✅ 对象数组排序

```js
const users = [
  { name: "Tom", age: 25 },
  { name: "Jerry", age: 18 },
  { name: "Alice", age: 30 },
];

// 按年龄升序
users.sort((a, b) => a.age - b.age);
console.log(users);
// [
//   { name: "Jerry", age: 18 },
//   { name: "Tom", age: 25 },
//   { name: "Alice", age: 30 }
// ]
```

---

### ✅ 字符串排序（不区分大小写）

```js
const names = ["Bob", "alice", "Tom", "jerry"];
names.sort((a, b) => a.localeCompare(b, "en", { sensitivity: "base" }));
console.log(names); // ["alice", "Bob", "jerry", "Tom"]
```

> 💡 `localeCompare` 更智能，支持中文、拼音排序：
>
> ```js
> ['张三', '李四', '王五'].sort((a, b) => a.localeCompare(b, 'zh'));
> ```

---

### ✅ 复杂场景：多条件排序

```js
const arr = [
  { name: "Tom", age: 25 },
  { name: "Jerry", age: 25 },
  { name: "Alice", age: 18 },
];

// 先按年龄升序，再按名字字母顺序
arr.sort((a, b) => a.age - b.age || a.name.localeCompare(b.name));
```

---

### ❌ 注意事项

1. **原地修改**：`sort()` 会改变原数组。
2. **稳定排序（ES10 之后）**：相等项的原有顺序会保留。
3. **compareFunction 必须返回数值**：

   * `a < b` → 返回负数（a排前）
   * `a > b` → 返回正数（b排前）
   * `a == b` → 返回0（保持顺序）

---

### ✅ 不改原数组写法（推荐）

```js
const arr = [3, 1, 4];
const sorted = [...arr].sort((a, b) => a - b);
console.log(arr);    // [3, 1, 4]
console.log(sorted); // [1, 3, 4]
```

---

## 🧾 四、总结表格

| 方法          | 功能          | 是否修改原数组 | 返回值         | 常见用途       |
| ----------- | ----------- | ------- | ----------- | ---------- |
| `reverse()` | 反转数组顺序      | ✅       | 反转后的数组（同引用） | 翻转数据、栈结构   |
| `sort()`    | 排序数组，可自定义规则 | ✅       | 排序后的数组（同引用） | 数值、对象、中文排序 |

---

## 🎯 面试常考题（附答案简要）

1️⃣ **`sort()` 默认排序的陷阱是什么？**

> 按字符串 Unicode 排序，不是数字大小。

2️⃣ **如何对数字数组正确升序排序？**

> `arr.sort((a, b) => a - b)`。

3️⃣ **如何反转数组但不修改原数组？**

> `const newArr = [...arr].reverse();`

4️⃣ **如何按多个条件排序？**

> `arr.sort((a, b) => a.age - b.age || a.name.localeCompare(b.name));`

---

是否需要我帮你整理一份「`reverse()` 与 `sort()` 的底层原理 + 手写实现」版（比如手写稳定排序算法 + 模拟 `sort()` 源码逻辑）？这在面试中属于“进阶加分题”。
